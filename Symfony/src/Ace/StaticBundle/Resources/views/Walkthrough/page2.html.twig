{% extends 'AceStaticBundle:Walkthrough:skeleton.html.twig' %}


{% block javascripts %}
    <script type="text/javascript" src="{{ path("AceGenericBundle_embedded_compilerflasher_js") }}"></script>
    <script type="text/javascript">

        var plugin_check_id = window.setInterval(function () {
            if ($(".alert").length > 0) {
                window.clearInterval(plugin_check_id);
                window.location.replace("{{ path("AceStaticBundle_walkthrough", {"page":1}) }}");
            }
        }, 500);

        $(document).ready(function () {
            var os = (function () {
                var ua = navigator.userAgent.toLowerCase();
                return {
                    isWin2K:/windows nt 5.0/.test(ua),
                    isXP:/windows nt 5.1/.test(ua),
                    isVista:/windows nt 6.0/.test(ua),
                    isWin7:/windows nt 6.1/.test(ua),
                    isMac:/macintosh/.test(ua),
                    isLinux:/linux/.test(ua)
                };
            }());


            if (os.isXP || os.isMac) {
                $("#install_drivers_button").attr("href", "javascript:window.plugin.installDrivers(0);");
            }

            if (os.isVista || os.isWin7) {
                $("#install_drivers_button").attr("href", "javascript:window.plugin.installDrivers(1);");
            }

            if (os.isLinux) {
                window.location.replace("{{ path("AceStaticBundle_walkthrough", {"page":page+1}) }}");
            }
        });
    </script>
{% endblock %}

{% block stylesheets %}
    <style>
        #ports_div {
            visibility: hidden;
            width: 0px;
            height: 0px;
            position: fixed;
        }

            /* line 14, multi-line-button.sass */
        #install_drivers {
            -moz-background-clip: padding;
            -webkit-background-clip: padding;
            -o-background-clip: padding-box;
            -ms-background-clip: padding-box;
            -khtml-background-clip: padding-box;
            background-clip: padding-box;
            border-width: 1px;
            -moz-border-radius: 6px;
            -webkit-border-radius: 6px;
            -o-border-radius: 6px;
            -ms-border-radius: 6px;
            -khtml-border-radius: 6px;
            border-radius: 6px;
            border-style: solid;
            color: white;
            display: block;
            margin: 0.2em auto;
            padding: 12px 15px;
            text-align: center;
            text-decoration: none;
            background-color: #60a3d8;
            background-image: -webkit-gradient(linear, 0% 0%, 0% 100%, color-stop(0%, #89bbe2), color-stop(50%, #60a3d8), color-stop(100%, #378bce));
            background-image: -moz-linear-gradient(top, #89bbe2 0%, #60a3d8 50%, #378bce 100%);
            background-image: linear-gradient(top, #89bbe2 0%, #60a3d8 50%, #378bce 100%);
            border-color: #2970a9;
            border-left-color: #60a3d8;
            border-top-color: #60a3d8;
            -moz-box-shadow: rgba(255, 255, 255, 0.5) 1px 1px 0 0 inset;
            -webkit-box-shadow: rgba(255, 255, 255, 0.5) 1px 1px 0 0 inset;
            -o-box-shadow: rgba(255, 255, 255, 0.5) 1px 1px 0 0 inset;
            box-shadow: rgba(255, 255, 255, 0.5) 1px 1px 0 0 inset;
            color: white;
            text-shadow: #2e7ebd 0 1px 2px;

            {#our own code#}
            padding: 30px;
            font-size: 30px;
            width: 70%;
        }

            /* line 27, _multi-line-button.sass */
        #install_drivers:active {
            padding: 13px 15px 11px;
        }

            /* line 48, _multi-line-button.sass */
        #install_drivers:hover, #install_drivers:focus {
            background-image: -webkit-gradient(linear, 0% 0%, 0% 100%, color-stop(0%, #9dc7e7), color-stop(50%, #74afdd), color-stop(100%, #378bce));
            background-image: -moz-linear-gradient(top, #9dc7e7 0%, #74afdd 50%, #378bce 100%);
            background-image: linear-gradient(top, #9dc7e7 0%, #74afdd 50%, #378bce 100%);
        }

            /* line 50, _multi-line-button.sass */
        #install_drivers:active, #install_drivers.depressed {
            background-image: -webkit-gradient(linear, 0% 0%, 0% 100%, color-stop(0%, #5796c8), color-stop(100%, #6aa2ce));
            background-image: -moz-linear-gradient(top, #5796c8 0%, #6aa2ce 100%);
            background-image: linear-gradient(top, #5796c8 0%, #6aa2ce 100%);
            -moz-box-shadow: none;
            -webkit-box-shadow: none;
            -o-box-shadow: none;
            box-shadow: none;
            border-color: #2970a9;
        }
    </style>
{% endblock %}

{% block page_content %}
    <h3>Driver Installation</h3>
    <p>We strongly encourage you to install the required drivers for your device.
        It will only take a few seconds, and you will ensure that you will be able to use any Arduino
        or Arduino-compatible device with codebender.</p>
    <a class="btn btn-primary" id="install_drivers_button" href="javascript:void(0);">Install Drivers</a>
    <a class="btn" href="{{ path("AceStaticBundle_walkthrough", {"page":page+1}) }}">Next </a>

    <div id="cb_cf" data-board="Arduino Uno" data-sketch="3" data-sections="usbflash"></div>
{% endblock %}